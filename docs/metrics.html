<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VarAC Wednesday - Metrics</title>
    <link rel="stylesheet" href="assets/css/varACWed-style.css" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png">
    <link rel="manifest" href="/assets/images/site.webmanifest">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script type="text/javascript" src="/assets/js/klaroConfig.js"></script>
    <script defer type="text/javascript" src="https://cdn.kiprotect.com/klaro/latest/klaro.js"></script>

  </head>
  <!-- Klaro will only activate this if the user consents to "google-analytics" -->
  <script type="text/plain" data-type="application/javascript" data-name="google-analytics" async src="https://www.googletagmanager.com/gtag/js?id=G-8B54HBJ66J"></script>

  <script type="text/plain" data-type="application/javascript" data-name="google-analytics">
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-8B54HBJ66J'), {
          'allow_google_signals': false,   // disables Google signals 
          'allow_ad_personalization_signals': false
    });

  </script>

  <body>
    <header>
      <img src="/assets/images/VarACWednesdayLogo-White.png" alt="VarAC Wednesday" width="300" height="auto" />
      <p>Promoting digital comms excellence for all VarAC enthusiasts</p>
    </header>

    <div id="nav-placeholder"></div>
    <script>
      fetch('/navbar.html')
        .then(res => res.text())
        .then(data => {
                document.getElementById('nav-placeholder').innerHTML = data;
              });
    </script>


    <main>
      <h2>Metrics</h2>
      <p>The following shows trends of number of stations that checked into VarAC Wednesday over time.</p></br>
      <canvas id="trendChart" width="auto" height="auto"></canvas>
      <script src="assets/js/trend.js"></script>

      <h2>Metrics New users by week</h2>
      <p>The following shows the number of first time users who checked into VarAC Wednesday each week.</br></p>
      <canvas id="trendChart-newusers-by-week" width="auto" height="auto"</canvas>
      <script src="assets/js/trend-newusers-by-week.js"></script>
    </main>

    <div id="footer-placeholder"></div>


    <script>
      fetch('footer.html')
        .then(res => res.text())
        .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
              });

      document.addEventListener('DOMContentLoaded', function () {

              // Select all links with class 'new-tab'
              document.querySelectorAll('a.new-tab').forEach(function(link) {
                      link.addEventListener('click', function (e) {
                              e.preventDefault();
                              window.open(link.href, '_blank');
                            });
                    });
            });

    </script>

  </body>
</html>

